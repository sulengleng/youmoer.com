import{jsx as _jsx,jsxs as _jsxs}from"react/jsx-runtime";import{useRef}from"react";import{addPropertyControls,ControlType,Color}from"framer";import{useAnimationFrame}from"framer-motion";import{wrap}from"popmotion";/**
 * CONIC
 *
 * @framerIntrinsicWidth 200
 * @framerIntrinsicHeight 200
 * @framerDisableUnlink
 *
 * @framerSupportedLayoutWidth fixed
 * @framerSupportedLayoutHeight fixed
 */ export default function ConicGradient(props){const{colors,radius,from,axis,blur,shouldAnimate,rotate,speed}=props;const{xPos,yPos}=axis;const colorToValue=c=>Color(c).toValue();/* The CSS Background String */ const background=`conic-gradient(from ${from}deg at ${xPos}% ${yPos}%, ${colors.map(c=>colorToValue(c)).join(",")})`;/* Fallback variables */ let message="";let isEmpty=false;let fallBackColor=colors[0];/* Fallback for 0 colors or 1 color in array */ if(colors.length==0){message="Please add 2+ colors.";fallBackColor="rgba(136, 85, 255, 0.1)";isEmpty=true;}else if(colors.length==1){isEmpty=true;fallBackColor=colors[0];}else{isEmpty=false;}const conicStyle={inset:"-100%",position:"absolute",display:"flex",placeItems:"center",placeContent:"center",color:"#85F",background:isEmpty?fallBackColor:background,willChange:"transform"};const blurStyle={WebkitBackdropFilter:`blur(${blur}px)`,MozBackdropFilter:`blur(${blur}px)`,backdropFilter:`blur(${blur}px)`};const absoluteStyle={position:"absolute",inset:0};/* Animation */ const transformRef=useRef(null);const initialTime=useRef(null);const prevTime=useRef(null);const rotationRef=useRef(0);const isNegative=rotate<0;useAnimationFrame(t=>{if(!transformRef.current||!rotate||!shouldAnimate){return;}if(initialTime.current===null){initialTime.current=t;}t=t-initialTime.current;const timeSince=prevTime.current===null?0:t-prevTime.current;let delta=timeSince*(speed/1e3);rotationRef.current+=delta;rotationRef.current=wrap(0,rotate,rotationRef.current);if(isNegative){rotationRef.current=wrap(0,-rotate,rotationRef.current);transformRef.current.style.transform=`translateZ(0) rotate(-${rotationRef.current}deg)`;}else{rotationRef.current=wrap(0,rotate,rotationRef.current);transformRef.current.style.transform=`translateZ(0) rotate(${rotationRef.current}deg)`;}prevTime.current=t;});return /*#__PURE__*/ _jsxs("div",{style:{borderRadius:radius,overflow:"hidden",...absoluteStyle},children:[/*#__PURE__*/ _jsx("div",{style:conicStyle,ref:transformRef,children:message}),/*#__PURE__*/ _jsx("div",{style:{...absoluteStyle,...blurStyle}})]});};/* Default Properties */ ConicGradient.defaultProps={colors:["cyan","magenta","yellow"],blur:0,radius:0,from:0,axis:{xPos:50,yPos:50}};ConicGradient.displayName="Conic Gradient";/* Property Controls, Default Gradient */ addPropertyControls(ConicGradient,{colors:{type:ControlType.Array,title:"Colors",control:{type:ControlType.Color,title:"Color"},defaultValue:ConicGradient.defaultProps.colors},radius:{type:ControlType.Number,title:"Radius",min:0,max:500,displayStepper:true,step:10},from:{type:ControlType.Number,title:"Angle",unit:"\xb0",min:0,max:1080,displayStepper:true,step:15},axis:{type:ControlType.Object,title:"Axis",controls:{xPos:{type:ControlType.Number,title:"X",unit:"%",min:0,max:100,defaultValue:50},yPos:{type:ControlType.Number,title:"Y",unit:"%",min:0,max:100,defaultValue:50}}},shouldAnimate:{type:ControlType.Boolean,title:"Animate",defaultValue:false},rotate:{type:ControlType.Number,min:-360,max:360,defaultValue:360,title:"To",unit:"\xb0",hidden:props=>!props.shouldAnimate},speed:{type:ControlType.Number,title:"Speed",min:0,max:1e3,defaultValue:100,unit:"%",displayStepper:true,step:5,hidden:props=>!props.shouldAnimate},blur:{type:ControlType.Number,title:"Blur",min:0,max:100,defaultValue:0,description:"Only visible on Canvas with Show Background Blur enabled in View."}});
export const __FramerMetadata__ = {"exports":{"default":{"type":"reactComponent","name":"ConicGradient","slots":[],"annotations":{"framerIntrinsicHeight":"200","framerSupportedLayoutHeight":"fixed","framerContractVersion":"1","framerSupportedLayoutWidth":"fixed","framerIntrinsicWidth":"200","framerDisableUnlink":"*"}},"__FramerMetadata__":{"type":"variable"}}}
//# sourceMappingURL=./ConicGradient.map